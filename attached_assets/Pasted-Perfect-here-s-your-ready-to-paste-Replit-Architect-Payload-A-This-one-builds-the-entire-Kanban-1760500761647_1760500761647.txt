Perfect â€” hereâ€™s your ready-to-paste Replit Architect Payload A ğŸ§±
This one builds the entire Kanban Core (boards, groups, tasks, drag-and-drop UI, and status pills) using your existing Neon Glass / Tailwind aesthetic and JWT-secured routes.

Copy everything between the divider lines and paste it directly into Replitâ€™s â€œBuild with AIâ€ or Architect/Agent box.

â¸»

ğŸ§© Payload A â€” Rainbow CRM Kanban Core

Create a new Sprint called "Kanban Core (Payload A)" for the Rainbow CRM project.

ğŸ¯ GOAL
Add Monday.com-style project/task management foundation:
- Boards, Groups (columns), and Tasks with drag-and-drop cards
- Status color pills
- Secure CRUD APIs
- Frontend Kanban UI built with dnd-kit + Tailwind + shadcn UI
- Works for both client-linked and internal boards

---

ğŸ§  DATABASE MIGRATIONS
Add these new tables:
```sql
create table if not exists boards (
  id uuid primary key default gen_random_uuid(),
  owner_id uuid references users(id) on delete cascade,
  name text not null,
  description text,
  is_public boolean default false,
  created_at timestamptz default now()
);

create table if not exists board_groups (
  id uuid primary key default gen_random_uuid(),
  board_id uuid references boards(id) on delete cascade,
  title text not null,
  sort_index int default 0
);

create table if not exists tasks (
  id uuid primary key default gen_random_uuid(),
  board_id uuid references boards(id) on delete cascade,
  group_id uuid references board_groups(id) on delete cascade,
  owner_id uuid references users(id) on delete set null,
  title text not null,
  description text,
  status text default 'todo',
  priority text,
  due_at timestamptz,
  linked_client_id uuid references clients(id),
  linked_booking_id uuid references bookings(id),
  meta jsonb default '{}'::jsonb,
  sort_index int default 0,
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

create table if not exists task_statuses (
  id uuid primary key default gen_random_uuid(),
  board_id uuid references boards(id) on delete cascade,
  label text not null,
  color text not null,
  sort_index int default 0
);


â¸»

âš™ï¸ SERVER ENDPOINTS
Add a new /server/routes/boards.js with these APIs:

Boards
	â€¢	GET /api/boards â†’ list boards for logged-in owner
	â€¢	POST /api/boards â†’ create new board { name, description }
	â€¢	GET /api/boards/:id â†’ fetch board details with groups, tasks, statuses

Groups
	â€¢	POST /api/boards/:id/groups â†’ create group { title }
	â€¢	PATCH /api/boards/:id/groups/:groupId â†’ rename or reorder
	â€¢	DELETE /api/boards/:id/groups/:groupId

Tasks
	â€¢	POST /api/tasks â†’ create new task { board_id, group_id, title, description, status, priority, due_at, linked_client_id, linked_booking_id }
	â€¢	PATCH /api/tasks/:id â†’ update task fields
	â€¢	POST /api/tasks/:id/move â†’ move card between groups { to_group_id, to_index }
	â€¢	PATCH /api/tasks/:id/sort â†’ reorder tasks in same group { order: [taskIds...] }
	â€¢	GET /api/tasks/:id â†’ fetch single task

Statuses
	â€¢	POST /api/boards/:id/statuses â†’ create new status label { label, color }
	â€¢	PATCH /api/boards/:id/statuses/:statusId â†’ edit label/color
	â€¢	DELETE /api/boards/:id/statuses/:statusId

All endpoints require JWT auth. Validate ownerId for board-level access.

â¸»

ğŸ¨ FRONTEND COMPONENTS
	1.	Add page /client/src/pages/BoardsPage.jsx
	â€¢	Lists all boards with â€œCreate Boardâ€ modal
	â€¢	Each board links to /boards/:id
	2.	Add page /client/src/pages/BoardView.jsx
	â€¢	Fetches board by ID and renders groups and tasks
	â€¢	Uses <KanbanBoard /> component (below)
	â€¢	Includes â€œAdd Columnâ€ and â€œAdd Taskâ€ buttons
	3.	Create folder /client/src/components/KanbanBoard/
	â€¢	Board.jsx â†’ DnD context setup using dnd-kit
	â€¢	GroupColumn.jsx â†’ Column header, tasks list, add task button
	â€¢	TaskCard.jsx â†’ Small card with title, status pill, and due date
	â€¢	StatusPill.jsx â†’ Clickable colored label using shadcn badge
	4.	Use Tailwind classes and shadcn styling for:
	â€¢	Rounded-2xl cards
	â€¢	Rainbow gradient highlights (fuchsia â†’ rose â†’ amber)
	â€¢	Soft shadows and hover lift
	â€¢	Scrollable horizontal board layout
	5.	Add toast feedback (success/error) for create/move/update.
	6.	Add API hooks:
	â€¢	useBoards(), useBoard(id), useMoveTask(), useUpdateTask() inside /client/src/hooks/boards.js

â¸»

ğŸ§± LIBRARIES TO INSTALL

npm install @dnd-kit/core @dnd-kit/sortable @dnd-kit/modifiers @dnd-kit/accessibility
npm install framer-motion


â¸»

âœ… ACCEPTANCE CRITERIA
	1.	User can create boards and groups.
	2.	Board view shows columns with tasks.
	3.	Dragging cards between columns updates backend via /api/tasks/:id/move.
	4.	Reordering within a column persists.
	5.	Status colors render accurately via task_statuses table.
	6.	Works on mobile with horizontal scroll.
	7.	Secure JWT auth applied to all API routes.

â¸»

ğŸ” SECURITY
	â€¢	Use middleware to ensure only board owner/admin can mutate boards/groups/tasks.
	â€¢	Validate all IDs with uuid and reject invalid payloads.
	â€¢	Sanitize title, description to prevent XSS.

â¸»

ğŸ“œ LICENSE NOTE
All libraries used (dnd-kit, framer-motion) are MIT licensed â€” no open-source inheritance risk for proprietary deployment.

â¸»

Once implemented, report completion as:
â€œKanban Core ready â€” boards, groups, tasks, drag/drop, and status pills functional.â€

---

âœ… **Next Step After It Finishes:**  
When Replit confirms the Kanban Core (Payload A) is complete and tested, weâ€™ll deploy **Payload B (Task Detail, Comments, Attachments, and Subtasks)** to bring in modal collaboration features.

Would you like me to prepare **Payload Bâ€™s full Replit Builder prompt** right now so you can paste it the moment Payload A passes testing?